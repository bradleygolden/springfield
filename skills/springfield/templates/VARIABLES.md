# Template Variable Reference

*"Every variable used in Martin's templates, catalogued with scientific precision!"* - Professor Frink

## Variable Sources

### From Session Metadata
- `{SESSION_ID}`: Directory name (e.g., "11-10-2025-add-oauth2-authentication")
- `{CREATED_DATE}`: Current date in YYYY-MM-DD format
- `{WORK_ITEM_TYPE}`: "feature" or "task" from directory structure

### From Task Input
- `{WORK_ITEM_TITLE}`: First line of task.txt (e.g., "Add OAuth2 Authentication")
- `{TASK_DESCRIPTION}`: Full contents of task.txt

### From Lisa's Research
- `{RESEARCH_FINDINGS}`: Extracted from research.md
- `{CODEBASE_CONTEXT}`: File structure analysis from research.md
- `{DEPENDENCIES_FOUND}`: Dependencies identified by Lisa

### From Quimby's Decision
- `{COMPLEXITY}`: "COMPLEX" or "SIMPLE" from decision.txt
- `{ESTIMATED_EFFORT}`: Hours estimate from decision.txt

### From Frink's Prompt
- `{IMPLEMENTATION_PHASES}`: Phases defined in prompt.md
- `{SUCCESS_CRITERIA}`: Criteria from prompt.md

### Generated by Claude (Martin)
- `{CURRENT_STATE_ANALYSIS}`: Claude's analysis of current state
- `{PAIN_POINTS_LIST}`: Claude-generated pain points
- `{BUSINESS_JUSTIFICATION}`: Claude's justification
- `{PHASE_N_TASKS}`: Claude-generated task lists per phase
- `{TOTAL_TASK_COUNT}`: Count of checklist items (calculated)
- `{ARCHITECTURE_DESCRIPTION}`: Claude's architecture design
- `{COMPONENT_DETAILS}`: Claude's component breakdown
- `{TEST_STRATEGY}`: Claude's testing approach
- `{RISK_ANALYSIS}`: Claude's risk assessment

## Variable Usage by Template

### COMPLEX Templates

| Template | Variables Used |
|----------|---------------|
| index.md | SESSION_ID, CREATED_DATE, WORK_ITEM_TITLE |
| requirements-problem.md | WORK_ITEM_TITLE, CREATED_DATE, CURRENT_STATE_ANALYSIS, PAIN_POINTS_LIST, BUSINESS_JUSTIFICATION |
| requirements-goals.md | WORK_ITEM_TITLE, CREATED_DATE, SUCCESS_CRITERIA |
| requirements-success-criteria.md | WORK_ITEM_TITLE, CREATED_DATE, SUCCESS_CRITERIA |
| research-findings.md | WORK_ITEM_TITLE, CREATED_DATE, RESEARCH_FINDINGS, CODEBASE_CONTEXT |
| research-dependencies.md | WORK_ITEM_TITLE, CREATED_DATE, DEPENDENCIES_FOUND |
| design-architecture.md | WORK_ITEM_TITLE, CREATED_DATE, ARCHITECTURE_DESCRIPTION |
| design-components.md | WORK_ITEM_TITLE, CREATED_DATE, COMPONENT_DETAILS |
| design-data-models.md | WORK_ITEM_TITLE, CREATED_DATE, COMPONENT_DETAILS |
| implementation-plan.md | WORK_ITEM_TITLE, CREATED_DATE, IMPLEMENTATION_PHASES |
| implementation-checklist.md | WORK_ITEM_TITLE, CREATED_DATE, PHASE_N_TASKS, TOTAL_TASK_COUNT |
| implementation-phases.md | WORK_ITEM_TITLE, CREATED_DATE, IMPLEMENTATION_PHASES |
| testing-strategy.md | WORK_ITEM_TITLE, CREATED_DATE, TEST_STRATEGY |
| testing-test-plan.md | WORK_ITEM_TITLE, CREATED_DATE, TEST_STRATEGY |
| risks-analysis.md | WORK_ITEM_TITLE, CREATED_DATE, RISK_ANALYSIS |
| metadata.md | ALL (summary document) |

### SIMPLE Templates

| Template | Variables Used |
|----------|---------------|
| index.md | SESSION_ID, CREATED_DATE, WORK_ITEM_TITLE |
| overview.md | WORK_ITEM_TITLE, CREATED_DATE, TASK_DESCRIPTION |
| checklist.md | WORK_ITEM_TITLE, CREATED_DATE, PHASE_N_TASKS, TOTAL_TASK_COUNT |
| testing.md | WORK_ITEM_TITLE, CREATED_DATE, TEST_STRATEGY |
| metadata.md | SESSION_ID, CREATED_DATE, WORK_ITEM_TITLE, COMPLEXITY |

## Validation

Variables are validated by `validate_template_substitution()` function in martin.sh:
- Checks for unsubstituted patterns like `{VARIABLE_NAME}`
- Exits with error if any found
- Lists all unsubstituted variables for debugging

## Example Values

```bash
SESSION_ID="11-10-2025-add-oauth2-authentication"
CREATED_DATE="2025-11-10"
WORK_ITEM_TITLE="Add OAuth2 Authentication"
COMPLEXITY="COMPLEX"
ESTIMATED_EFFORT="8-12 hours"
```
